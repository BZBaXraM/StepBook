@if (member) {
	<div class="container mx-auto p-4">
		@if (editForm.dirty) {
			<div class="w-full bg-blue-50 border-l-4 border-blue-500 rounded-lg shadow-sm p-4 mb-6">
				<div class="flex items-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600 mr-3" viewBox="0 0 20 20" fill="currentColor">
						<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
					</svg>
					<p class="text-blue-800 font-medium">You have made changes. Any unsaved changes will be lost</p>
				</div>
			</div>
		}

		<div class="flex flex-col lg:flex-row gap-6">
			<!-- Профиль -->
			<div class="w-full lg:w-1/3 bg-white rounded-2xl shadow-sm">
				<div class="relative">
					<img
						src="{{ member.PhotoUrl || 'user.png' }}"
						class="w-full h-48 object-cover rounded-t-2xl"
						alt="{{ member.Username }}"
					/>
					<div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/50 to-transparent p-4">
						<h2 class="text-white text-xl font-semibold">{{ member.Username }}</h2>
					</div>
				</div>

				<div class="p-6 space-y-4">
					<div class="flex items-center text-gray-600">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-violet-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
						</svg>
						<div>
							<p class="text-xs text-gray-500 font-medium">USERNAME</p>
							<p class="text-sm">{{ member.Username }}</p>
						</div>
					</div>

					<div class="flex items-center text-gray-600">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
						</svg>
						<div>
							<p class="text-xs text-gray-500 font-medium">LOCATION</p>
							<p class="text-sm">{{ member.City }}, {{ member.Country }}</p>
						</div>
					</div>

					<div class="flex items-center text-gray-600">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
						</svg>
						<div>
							<p class="text-xs text-gray-500 font-medium">AGE</p>
							<p class="text-sm">{{ member.Age }}</p>
						</div>
					</div>

					<div class="flex items-center text-gray-600">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
						</svg>
						<div>
							<p class="text-xs text-gray-500 font-medium">LAST ACTIVE</p>
							<p class="text-sm">{{ member.LastActive | timeago }}</p>
						</div>
					</div>

					<div class="flex items-center text-gray-600">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-500 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
						</svg>
						<div>
							<p class="text-xs text-gray-500 font-medium">MEMBER SINCE</p>
							<p class="text-sm">{{ member.Created | date }}</p>
						</div>
					</div>
				</div>

				<div class="p-6 pt-0">
					<button
						type="submit"
						form="editForm"
						[disabled]="!editForm.dirty"
						class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
					>
						<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
							<path d="M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293z"/>
						</svg>
						Save Changes
					</button>
				</div>
			</div>

			<!-- Форма редактирования с табами -->
			<div class="w-full lg:w-2/3 bg-white rounded-2xl shadow-sm">
				<mat-tab-group animationDuration="300ms">
					<mat-tab>
						<ng-template mat-tab-label>
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
								<path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
							</svg>
							About {{ member.FirstName }}
						</ng-template>

						<div class="p-6">
							<form id="editForm" #editForm="ngForm" (ngSubmit)="updateMember()" class="space-y-6">
								<div class="space-y-2">
									<label class="block text-sm font-medium text-gray-700">Description</label>
									<textarea
										name="Introduction"
										[(ngModel)]="member.Introduction"
										rows="4"
										class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
										placeholder="Tell us about yourself..."
									></textarea>
								</div>

								<div class="space-y-2">
									<label class="block text-sm font-medium text-gray-700">Looking for</label>
									<textarea
										name="LookingFor"
										[(ngModel)]="member.LookingFor"
										rows="4"
										class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
										placeholder="What kind of person are you looking for?"
									></textarea>
								</div>

								<div class="space-y-2">
									<label class="block text-sm font-medium text-gray-700">Interests</label>
									<textarea
										name="Interests"
										[(ngModel)]="member.Interests"
										rows="4"
										class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
										placeholder="What are your interests?"
									></textarea>
								</div>

								<div class="grid grid-cols-2 gap-4">
									<div class="space-y-2">
										<label class="block text-sm font-medium text-gray-700">City</label>
										<div class="relative">
											<input
												name="City"
												[(ngModel)]="member.City"
												type="text"
												class="w-full pl-4 pr-10 py-3 rounded-lg border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
												placeholder="Your city"
											/>
											<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 absolute right-3 top-1/2 -translate-y-1/2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
											</svg>
										</div>
									</div>

									<div class="space-y-2">
										<label class="block text-sm font-medium text-gray-700">Country</label>
										<div class="relative">
											<input
												name="Country"
												[(ngModel)]="member.Country"
												type="text"
												class="w-full pl-4 pr-10 py-3 rounded-lg border border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-colors"
												placeholder="Your country"
											/>
											<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 absolute right-3 top-1/2 -translate-y-1/2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
												<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
											</svg>
										</div>
									</div>
								</div>
							</form>
						</div>
					</mat-tab>

					<mat-tab>
						<ng-template mat-tab-label>
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
								<path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/>
							</svg>
							Edit Photos
						</ng-template>

						<div class="p-6">
							<app-photo-editor
								[member]="member"
								(memberChange)="onMemberChange($event)"
							/>
						</div>
					</mat-tab>
				</mat-tab-group>
			</div>
		</div>
	</div>
}
