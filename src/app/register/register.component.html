<div class="flex justify-center items-center">
	<div class="w-[32rem] p-8">
		<div class="pb-4 border-b border-slate-100">
			<div class="flex items-center gap-2">
				<span class="text-2xl font-semibold text-slate-800">Sign up</span>
				<span class="material-icons text-blue-500">account_circle</span>
			</div>
		</div>

		<form [formGroup]="registerForm" (ngSubmit)="register()" autocomplete="off"
			  class="flex flex-col gap-6 mt-6">
			<div class="flex items-center gap-4">
				<span class="text-slate-600">I am a:</span>
				<div class="flex gap-6" formControlName="Gender">
					<label class="flex items-center gap-2 cursor-pointer">
						<input type="radio" value="Male" class="w-4 h-4 text-blue-500">
						<span>Male</span>
					</label>
					<label class="flex items-center gap-2 cursor-pointer">
						<input type="radio" value="Female" class="w-4 h-4 text-blue-500">
						<span>Female</span>
					</label>
				</div>
			</div>

			<div class="grid grid-cols-2 gap-x-6 gap-y-4">
				<div>
					<label class="block text-slate-600 mb-1.5">Email</label>
					<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
						   formControlName="Email" required />
				</div>

				<div>
					<label class="block text-slate-600 mb-1.5">Username</label>
					<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
						   formControlName="Username" required />
				</div>

				<div>
					<label class="block text-slate-600 mb-1.5">First Name</label>
					<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
						   formControlName="FirstName" required />
				</div>

				<div>
					<label class="block text-slate-600 mb-1.5">Last Name</label>
					<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
						   formControlName="LastName" required />
				</div>

				<div>
					<label class="block text-slate-600 mb-1.5">Date of Birth</label>
					<div class="relative">
						<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
							   [matDatepicker]="picker"
							   formControlName="DateOfBirth"
							   [max]="maxDate"
							   required />
						<mat-datepicker-toggle [for]="picker" class="absolute right-2 top-2"></mat-datepicker-toggle>
						<mat-datepicker #picker></mat-datepicker>
					</div>
				</div>

				<div>
					<label class="block text-slate-600 mb-1.5">City</label>
					<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
						   formControlName="City" required />
				</div>
			</div>

			<div>
				<label class="block text-slate-600 mb-1.5">Country</label>
				<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
					   formControlName="Country" required />
			</div>

			<div class="grid grid-cols-2 gap-6">
				<div class="relative">
					<label class="block text-slate-600 mb-1.5">Password</label>
					<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
						   [type]="passwordFieldType"
						   formControlName="Password"
						   required />
					<span class="material-icons absolute right-3 top-9 text-slate-400 hover:text-slate-600 cursor-pointer"
						  (click)="togglePasswordVisibility()">
                       {{passwordFieldType === "password" ? "visibility_off" : "visibility"}}
                   </span>
				</div>

				<div>
					<label class="block text-slate-600 mb-1.5">Confirm Password</label>
					<input class="w-full px-3 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
						   [type]="passwordFieldType"
						   formControlName="ConfirmPassword"
						   required />
				</div>
			</div>

			@if (validationErrors && validationErrors.length) {
				<div class="text-red-500">
					<ul class="list-disc pl-5">
						@for (error of validationErrors; track error) {
							<li>{{ error }}</li>
						}
					</ul>
				</div>
			}

			<div class="flex flex-col gap-3 mt-2">
				<button type="submit"
						[disabled]="!registerForm.valid"
						class="w-full py-2.5 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
					Register
				</button>

				<button type="button"
						(click)="cancel()"
						class="w-full py-2.5 text-slate-600 hover:bg-slate-50 font-medium rounded-lg transition-colors">
					Cancel
				</button>
			</div>
		</form>
	</div>
</div>
